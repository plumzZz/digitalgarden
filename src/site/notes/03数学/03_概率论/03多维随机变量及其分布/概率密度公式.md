---
{"tags":[],"dg-publish":true,"permalink":"/03数学/03_概率论/03多维随机变量及其分布/概率密度公式/","dgPassFrontmatter":true}
---

---
公式推导出来的前提是函数是**单调可导函数**
### 步骤1：明确已知和所求
已知随机变量 $X$ 的概率密度 $f_X(x)$，要求 $Y = \arctan X$ 的概率密度 $f_Y(y)$。
### 步骤2：找反函数
$Y = \arctan X$ 的反函数是 $X = \tan Y$，并且反函数的定义域是 $-\frac{\pi}{2} < Y < \frac{\pi}{2}$（因为反正切函数 $\arctan x$ 的值域就是 $\left( -\frac{\pi}{2}, \frac{\pi}{2} \right)$）。
### 步骤3：用反函数法公式
对于 $Y = g(X)$（$g$ 单调可导），概率密度的公式是：
$$
f_Y(y) = f_X(g^{-1}(y)) \cdot \left| (g^{-1}(y))' \right|
$$

这里 $g(X) = \arctan X$，所以 $g^{-1}(y) = \tan y$。

### 步骤4：计算导数和代入
首先，$(\tan y)' = \sec^2 y$（这是三角函数的求导公式，$\sec y = \frac{1}{\cos y}$，所以 $\sec^2 y = \frac{1}{\cos^2 y}$）。
然后，假设 $X$ 的概率密度 $f_X(x) = \frac{1}{\pi(1 + x^2)}$（这是**柯西分布**的概率密度，是常见的分布）。把 $x = \tan y$ 代入 $f_X(x)$，得到：

$$
f_X(\tan y) = \frac{1}{\pi(1 + \tan^2 y)}
$$

又因为三角恒等式 $1 + \tan^2 y = \sec^2 y$，所以 $f_X(\tan y) = \frac{1}{\pi \sec^2 y}$。

### 步骤5：计算 $f_Y(y)$
根据公式 $f_Y(y) = f_X(\tan y) \cdot \left| (\tan y)' \right|$，代入上面的结果：

$$
f_Y(y) = \frac{1}{\pi \sec^2 y} \cdot \sec^2 y = \frac{1}{\pi}
$$

这一步中，$\sec^2 y$ 约掉了，所以得到 $f_Y(y) = \frac{1}{\pi}$，但这个结果只在 $-\frac{\pi}{2} < y < \frac{\pi}{2}$ 时成立（因为反函数的定义域是 $-\frac{\pi}{2} < Y < \frac{\pi}{2}$，超出这个范围，$Y = \arctan X$ 取不到对应的 $y$，所以概率密度为 $0$）。

### 步骤6：写出完整的 $f_Y(y)$
综合起来，$Y$ 的概率密度就是：

$$
f_Y(y) = \begin{cases}
\frac{1}{\pi}, & -\frac{\pi}{2} < y < \frac{\pi}{2}, \\
0, & \text{其他}.
\end{cases}
$$

这说明 $Y$ 在 $\left( -\frac{\pi}{2}, \frac{\pi}{2} \right)$ 上服从**均匀分布**。